<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>INEX Mobile Demo — iPhone Frame</title>
  <meta name="description" content="Interactive mobile preview of the INEX Systems Portal inside an iPhone frame." />
  <style>
    :root{
      --screen-w:390px; /* iPhone 14/15 CSS pixels */
      --screen-h:844px;
      --bezel:16px;
      --radius:44px; /* outer frame radius */
      --bg: #0b0c10;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background: radial-gradient(1000px 600px at 20% 10%, #111 0%, #0b0c10 40%, #000 100%);
      color:#ddd;
      font:14px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,"Noto Sans";
      display:grid;
      place-items:center;
      padding:24px;
      gap:20px;
    }
    .intro{
      text-align:center;
      max-width:800px;
      color:#bdbdbd;
    }
    .intro h1{margin:.2rem 0 .4rem 0;color:#fff;font-size:22px}
    .intro p{margin:.2rem 0;}
    .device{
      position:relative;
      width: calc(var(--screen-w) + var(--bezel) * 2);
      height: calc(var(--screen-h) + var(--bezel) * 2);
      background:#000;
      border-radius: var(--radius);
      box-shadow:
        0 25px 50px rgba(0,0,0,.6),
        inset 0 0 0 2px rgba(255,255,255,.06),
        inset 0 0 0 1px rgba(255,255,255,.12);
      padding: var(--bezel);
      display:flex;
      align-items:stretch;
      justify-content:center;
      isolation:isolate;
    }
    .screen{
      position:relative;
      width: var(--screen-w);
      height: var(--screen-h);
      background:#000;
      border-radius: 36px;
      overflow:hidden;
    }
    .screen iframe{
      width:100%;
      height:100%;
      border:0;
      display:block;
      background:#000;
      border-radius:inherit;
      -webkit-overflow-scrolling: touch;
    }
    /* Dynamic island / notch */
    .notch{
      content:"";
      position:absolute;
      z-index:5;
      top: var(--bezel);
      left: 50%;
      transform: translateX(-50%);
      width: 200px;
      height: 32px;
      background:#000;
      border-bottom-left-radius:18px;
      border-bottom-right-radius:18px;
      box-shadow: 0 2px 8px rgba(0,0,0,.6);
    }
    /* Subtle side buttons */
    .btns-left, .btns-right{
      position:absolute; top:120px; width:3px; height:48px; background:#1a1a1a;border-radius:3px;
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
    }
    .btns-left{ left:-2px }
    .btns-right{ right:-2px; top:180px }

    .toolbar{
      display:flex; gap:.6rem; flex-wrap:wrap; align-items:center; justify-content:center;
      color:#aaa; font-size:13px;
    }
    .toolbar a, .toolbar button{
      appearance:none; border:1px solid #2a2a2a; background:#121212; color:#eee; padding:.55rem .8rem; border-radius:10px; cursor:pointer; text-decoration:none; font-weight:600;
    }
    .toolbar a:hover, .toolbar button:hover{ filter:brightness(1.05) }
    .toolbar small{opacity:.8}

    @media (max-width: 900px){
      body{ padding:18px }
      .intro{ display:none }
    }
  </style>
</head>
<body>
  <div class="intro" aria-hidden="false">
    <h1>INEX Systems Portal — iPhone Mobile Demo</h1>
    <p>Live, scrollable mobile layout of the same app you see on the desktop. All navigation is clickable inside the device.</p>
  </div>

  <div class="device" role="application" aria-label="iPhone device frame">
    <div class="screen">
      <iframe id="appFrame" title="INEX Mobile App" src="index.html#/dashboard" allow="clipboard-read; clipboard-write"></iframe>
    </div>
    <div class="notch" aria-hidden="true"></div>
    <div class="btns-left" aria-hidden="true"></div>
    <div class="btns-right" aria-hidden="true"></div>
  </div>

  <div class="toolbar">
    <button id="btnDashboard">Dashboard</button>
    <button id="btnProjects">Projects</button>
    <button id="btnJobs">Jobs</button>
    <button id="btnInventory">Inventory</button>
    <button id="btnRma">RMA</button>
    <button id="btnSlas">SLAs</button>
    <button id="btnKnowledge">Knowledge</button>
    <button id="btnClients">Clients</button>
    <button id="btnCareers">Careers</button>
    <button id="btnSettings">Settings</button>
    <small>Tip: Use your trackpad/scroll wheel to scroll the app. All links work inside.</small>
  </div>

  <script>
    const frame = document.getElementById('appFrame');
    const setRoute = (route) => { frame.src = `index.html#/${route}` };
    const routes = {
      btnDashboard: 'dashboard',
      btnProjects: 'projects',
      btnJobs: 'jobs',
      btnInventory: 'inventory',
      btnRma: 'rma',
      btnSlas: 'slas',
      btnKnowledge: 'knowledge',
      btnClients: 'clients',
      btnCareers: 'careers',
      btnSettings: 'settings'
    };
    Object.entries(routes).forEach(([buttonId, routeName]) => {
      const button = document.getElementById(buttonId);
      if (button) {
        button.addEventListener('click', () => setRoute(routeName));
      }
    });

    function injectMobileStylesIntoApp(appDocument) {
      if (appDocument.getElementById('mobile-overrides')) return;
      const styleElement = appDocument.createElement('style');
      styleElement.id = 'mobile-overrides';
      styleElement.textContent = `
        aside{ display:none !important }
        .wrap{ grid-template-columns:1fr !important }
        main{ padding:12px !important; max-width: 460px !important }
        .topbar{ padding:.6rem .9rem !important; border-bottom-width:2px !important }
        .brand img{ height:26px !important }
        .header h1{ font-size:20px !important }
        .muted{ color:#666 !important }
        .cards{ grid-template-columns:1fr !important; gap:.8rem !important }
        .card{ border-radius:14px !important }
        .head{ padding:.7rem .9rem !important; font-size:13px !important }
        .body{ padding:.85rem !important }
        .pill{ padding:.32rem .6rem !important; font-size:12px !important }
        .btn{ padding:.78rem 1rem !important; border-radius:12px !important }
        .btn.primary,.btn.secondary,.btn.ghost{ min-height:44px }
        .diagram{ grid-template-columns:1fr !important }
        .grid-2,.grid-3,.grid-4{ grid-template-columns:1fr !important }
        .table th,.table td{ padding:.6rem .7rem !important }
        .collapsible.collapsed .body{ display:none }
        .collapsible .head{ display:flex; align-items:center; justify-content:space-between }
        .collapsible .head .toggle{ appearance:none; border:1px solid #e6e6e6; background:#fff; padding:.35rem .6rem; border-radius:10px; font-weight:700; cursor:pointer }
      `;
      appDocument.head.appendChild(styleElement);
    }

    function reorderDashboardCardsForMobile(appDocument) {
      const cardsContainer = appDocument.querySelector('.cards');
      if (!cardsContainer) return;

      const getCardByTitleStart = (titleStart) => (
        Array.from(cardsContainer.querySelectorAll('.card')).find(card => {
          const head = card.querySelector('.head');
          return head && head.textContent.trim().startsWith(titleStart);
        })
      );

      const quickActionsCard = getCardByTitleStart('Quick Actions');
      if (quickActionsCard) cardsContainer.insertBefore(quickActionsCard, cardsContainer.firstChild);

      const todaysInstallsCard = getCardByTitleStart('Today’s Installs');
      if (todaysInstallsCard && quickActionsCard) cardsContainer.insertBefore(todaysInstallsCard, quickActionsCard.nextSibling);

      const openTicketsCard = getCardByTitleStart('Open Tickets');
      if (openTicketsCard && todaysInstallsCard) cardsContainer.insertBefore(openTicketsCard, todaysInstallsCard.nextSibling);

      const diagramCard = getCardByTitleStart('ClickShare Alone vs. ClickShare Integrated by INEX');
      if (diagramCard) {
        diagramCard.classList.add('collapsible', 'collapsed');
        const head = diagramCard.querySelector('.head');
        if (head && !head.querySelector('.toggle')) {
          const toggleButton = appDocument.createElement('button');
          toggleButton.className = 'toggle';
          toggleButton.textContent = 'Show Diagram';
          head.appendChild(toggleButton);
          toggleButton.addEventListener('click', () => {
            diagramCard.classList.toggle('collapsed');
            toggleButton.textContent = diagramCard.classList.contains('collapsed') ? 'Show Diagram' : 'Hide Diagram';
          });
        }
      }

      if (quickActionsCard) {
        const quickActionsInner = quickActionsCard.querySelector('.body > div');
        if (quickActionsInner) {
          quickActionsInner.style.display = 'grid';
          quickActionsInner.style.gridTemplateColumns = '1fr 1fr';
          quickActionsInner.style.gap = '.6rem';
          quickActionsInner.querySelectorAll('.btn').forEach(btn => { btn.style.width = '100%'; });
        }
      }
    }

    function enhanceAppForMobile() {
      const appDocument = frame.contentDocument;
      if (!appDocument) return;
      injectMobileStylesIntoApp(appDocument);
      const appWindow = frame.contentWindow;
      const applyIfDashboard = () => {
        const hash = appWindow.location.hash.replace('#/', '') || 'dashboard';
        if (hash === 'dashboard') reorderDashboardCardsForMobile(appDocument);
      };
      applyIfDashboard();
      if (appWindow && appWindow.addEventListener) {
        appWindow.addEventListener('hashchange', applyIfDashboard);
      }
      const viewRoot = appDocument.getElementById('view');
      if (viewRoot && appWindow.MutationObserver) {
        const observer = new appWindow.MutationObserver(() => applyIfDashboard());
        observer.observe(viewRoot, { childList: true });
      }
    }

    frame.addEventListener('load', enhanceAppForMobile);
  </script>
</body>
<!-- © Cochran Films — Systems Division -->
</html>


